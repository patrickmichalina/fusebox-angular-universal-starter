{"version":3,"sources":["server/server.ts","server/app.server.module.ts","client/app/app.component.ts","client/app/shared/services/environment.service.ts","client/app/app.config.ts","client/app/app.module.ts","client/app/shared/shared.module.ts","client/app/shared/navbar/navbar.component.ts","client/app/shared/services/cookie.service.ts","client/app/shared/services/platform.service.ts","client/app/app-routing.module.ts","client/app/shared/transfer-http/transfer-http.module.ts","client/app/shared/transfer-http/transfer-http.ts","client/app/shared/transfer-state/transfer-state.ts","client/app/shared/transfer-state/server-transfer-state.module.ts","client/app/shared/transfer-state/server-transfer-state.ts","client/operators.ts","server/server.heroku.ssl.ts","server/server.sitemap.ts"],"names":[],"mappings":"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","file":"","sourcesContent":["import 'reflect-metadata';\nimport 'zone.js/dist/zone-node';\nimport 'zone.js/dist/long-stack-trace-zone';\nimport 'systemjs';\nimport * as express from 'express';\nimport * as morgan from 'morgan';\nimport * as favicon from 'serve-favicon';\nimport { join, resolve } from 'path';\nimport { ngExpressEngine } from '@nguniversal/express-engine';\nimport { AppServerModule } from './app.server.module';\nimport { forceSsl } from './server.heroku.ssl';\nimport { sitemap } from './server.sitemap';\nimport { stat } from 'fs';\nimport { EnvConfig } from '../../tools/config/app.config';\ndeclare var __process_env__: EnvConfig;\n\nconst shrinkRay = require('shrink-ray')\nconst minifyHTML = require('express-minify-html');\n\nrequire('ts-node/register');\n\nconst root = resolve(process.argv[1], '../');\nconst port = process.env.PORT || __process_env__.server.port;\nconst isProd = process.env.NODE_ENV === 'production' || process.env.NODE_ENV === 'prod' ? true : false;\nconst host = process.env.HOST || `http://localhost:${port}`;\nconst staticOptions = { index: false, maxAge: isProd ? '1yr' : '0' };\nconst app = express();\n\nif (process.env.HEROKU) app.use(forceSsl);\n\napp.engine('html', ngExpressEngine({ bootstrap: AppServerModule }));\napp.set('view engine', 'html');\napp.set('views', root);\napp.use(shrinkRay());\nif (__process_env__.server.minifyIndex) {\n  app.use(minifyHTML({\n    override: true,\n    exception_url: false,\n    htmlMinifier: {\n      removeComments: true,\n      collapseWhitespace: true,\n      collapseBooleanAttributes: true,\n      removeAttributeQuotes: false,\n      minifyJS: true\n    }\n  }));\n}\napp.use(morgan(isProd ? 'common' : 'dev'));\napp.get('/sitemap.xml', (req, res) => {\n  const fileLocation = join(root, 'sitemap.xml');\n\n  stat(fileLocation, (err) => {\n    return err\n      ? sitemap(host).then(a => res.header('Content-Type', 'text/xml').send(a))\n      : res.sendFile(fileLocation);\n  });\n});\napp.use(favicon(join(root, 'assets/favicons/favicon.ico')));\napp.use(express.static(root, staticOptions));\napp.get('/*', (req, res) => {\n  return res.render('index', {\n    req,\n    res,\n  });\n});\n\napp.listen(port, () => {\n  console.log(`Angular Universal Server listening on port ${port}...`);\n  sitemap(host).then(() => { });\n});\n","import { AppComponent } from './../client/app/app.component';\nimport { AppModule } from './../client/app/app.module';\nimport { NgModule, enableProdMode } from '@angular/core';\nimport { ServerModule, } from '@angular/platform-server';\nimport { ApplicationRef, APP_BOOTSTRAP_LISTENER } from '@angular/core';\nimport { TransferState } from '../client/app/shared/transfer-state/transfer-state';\nimport { ServerTransferStateModule } from '../client/app/shared/transfer-state/server-transfer-state.module';\nimport { Subscription } from 'rxjs/Subscription';\nimport 'rxjs/add/operator/filter';\nimport 'rxjs/add/operator/first';\nimport '../client/operators';\n\nif (process.env.NODE_ENV === 'production' || process.env.NODE_ENV === 'prod') enableProdMode();\n\nexport function bootstrapFactory(appRef: ApplicationRef, transferState: TransferState): () => Subscription {\n  return () => appRef.isStable\n    .filter(stable => stable)\n    .first()\n    .subscribe(() => transferState.inject());\n}\n\n@NgModule({\n  imports: [\n    ServerModule,\n    ServerTransferStateModule,\n    AppModule\n  ],\n  providers: [\n    {\n      provide: APP_BOOTSTRAP_LISTENER,\n      useFactory: bootstrapFactory,\n      multi: true,\n      deps: [\n        ApplicationRef,\n        TransferState\n      ]\n    }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppServerModule { }\n","import { Component, ChangeDetectionStrategy } from '@angular/core';\nimport { Meta } from '@angular/platform-browser';\nimport { EnvironmentService } from './shared/services/environment.service';\nimport { Angulartics2GoogleAnalytics } from 'angulartics2';\n\n@Component({\n  selector: 'pm-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AppComponent {\n  constructor(environmentService: EnvironmentService, meta: Meta, angulartics2GoogleAnalytics: Angulartics2GoogleAnalytics) {\n    meta.addTag({ property: 'fb:app_id', content: environmentService.config.og.facebookAppId })\n  }\n}\n","import { Injectable, Inject } from '@angular/core';\nimport { ENV_CONFIG, } from '../../app.config';\nimport { EnvConfig } from '../../../../../tools/config/app.config';\n\nexport interface IEnvironmentService {\n  config: EnvConfig;\n}\n\n@Injectable()\nexport class EnvironmentService implements IEnvironmentService {\n  constructor( @Inject(ENV_CONFIG) private _config: any) { }\n  get config(): EnvConfig {\n    return this._config;\n  };\n}","import { InjectionToken } from '@angular/core';\nimport { EnvConfig } from '../../../tools/config/app.config';\n\nexport const ENV_CONFIG = new InjectionToken<EnvConfig>('app.config');\n","import { BrowserModule } from '@angular/platform-browser';\nimport { AppComponent } from './app.component';\nimport { NgModule } from '@angular/core';\nimport { SharedModule } from './shared/shared.module';\n// import { SearchModule } from './search/search.module';\n// import { LoginModule } from './login/login.module';\n// import { LogoutModule } from './logout/logout.module';\n// import { SignupModule } from './signup/signup.module';\n// import { HomeModule } from './home/home.module';\nimport { AppRoutingModule } from './app-routing.module';\n// import { NotFoundModule } from './not-found/not-found.module';\nimport { TransferHttpModule } from './shared/transfer-http/transfer-http.module';\nimport { MetaModule, MetaLoader, MetaStaticLoader, PageTitlePositioning } from '@ngx-meta/core';\nimport { EnvironmentService } from './shared/services/environment.service';\nimport { Angulartics2Module, Angulartics2GoogleAnalytics } from 'angulartics2';\n\nexport function metaFactory(environmentService: EnvironmentService): MetaLoader {\n  return new MetaStaticLoader({\n    pageTitlePositioning: PageTitlePositioning.PrependPageTitle,\n    pageTitleSeparator: environmentService.config.pageTitleSeparator,\n    applicationName: environmentService.config.name,\n    applicationUrl: environmentService.config.server.host,\n    defaults: {\n      title: environmentService.config.name,\n      description: environmentService.config.description,\n      'og:image': environmentService.config.og.defaultSocialImage,\n      'og:type': 'website',\n      'og:locale': 'en_US',\n      'og:locale:alternate': 'en_US'\n    }\n  });\n}\n\n@NgModule({\n  imports: [\n    AppRoutingModule,\n    // HomeModule,\n    // SearchModule,\n    // LoginModule,\n    // LogoutModule,\n    // SignupModule,\n    // NotFoundModule, /* be sure this is the last route-able module */\n    TransferHttpModule,\n    BrowserModule.withServerTransition({ appId: 'pm-app' }),\n    SharedModule.forRoot(),\n    Angulartics2Module.forRoot([ Angulartics2GoogleAnalytics ]),\n    MetaModule.forRoot({\n      provide: MetaLoader,\n      useFactory: (metaFactory),\n      deps: [EnvironmentService]\n    })\n  ],\n  declarations: [AppComponent],\n  bootstrap: [AppComponent],\n  exports: [AppComponent],\n})\nexport class AppModule { }\n","import { CommonModule } from '@angular/common';\nimport { NgModule, ModuleWithProviders } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { NavbarComponent } from './navbar/navbar.component';\nimport { CookieService } from './services/cookie.service';\nimport { PlatformService } from './services/platform.service';\nimport { EnvironmentService } from './services/environment.service';\nimport { ENV_CONFIG } from '../app.config';\ndeclare var __process_env__: any;\n\nexport function fuseBoxConfigFactory() {\n  return __process_env__;\n}\n\n@NgModule({\n  imports: [CommonModule, RouterModule],\n  declarations: [NavbarComponent],\n  exports: [CommonModule, RouterModule, NavbarComponent],\n  providers: [\n    { provide: ENV_CONFIG, useFactory: fuseBoxConfigFactory },\n    PlatformService,\n    CookieService,\n    EnvironmentService\n  ]\n})\nexport class SharedModule {\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: SharedModule\n    };\n  }\n}\n","import { Component, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n  moduleId: module.id,\n  selector: 'pm-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class NavbarComponent {\n}\n","import { REQUEST } from '@nguniversal/express-engine/tokens';\nimport { PlatformService } from './platform.service';\nimport { Injectable, Inject } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { Observable } from 'rxjs/Observable';\nimport { set, remove, CookieAttributes, getJSON } from 'js-cookie';\n\nexport interface ICookieService {\n  cookies$: Observable<{ [key: string]: any }>;\n  getAll(): any;\n  get(name: string): any;\n  set(name: string, value: any, options?: CookieAttributes): void;\n  remove(name: string, options?: CookieAttributes): void;\n}\n\n@Injectable()\nexport class CookieService implements ICookieService {\n  private cookieSource = new Subject<{ [key: string]: any }>();\n  public cookies$ = this.cookieSource.asObservable();\n\n  constructor(private platformService: PlatformService, @Inject(REQUEST) private req: any) { }\n\n  public set(name: string, value: any, options?: CookieAttributes): void {\n    if (this.platformService.isBrowser) {\n      set(name, value, options);\n      this.updateSource();\n    }\n  }\n\n  public remove(name: string, options?: CookieAttributes): void {\n    if (this.platformService.isBrowser) {\n      remove(name, options);\n      this.updateSource();\n    } else {\n      // TODO: server side cookie handling\n    }\n  }\n\n  public get(name: string): any {\n    if (this.platformService.isBrowser) {\n      return getJSON(name);\n    } else {\n      if (this.req) return this.req.cookies[name];\n    }\n  }\n\n  public getAll(): any {\n    if (this.platformService.isBrowser) {\n      return getJSON();\n    } else {\n      if (this.req) return this.req.cookies;\n    }\n  }\n\n  private updateSource() {\n    this.cookieSource.next(this.getAll());\n  }\n}","import { Injectable, Inject, PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser, isPlatformServer } from '@angular/common';\n\nexport interface IPlatformService {\n  isBrowser: boolean;\n  isServer: boolean;\n}\n\n@Injectable()\nexport class PlatformService implements IPlatformService {\n  constructor( @Inject(PLATFORM_ID) private platformId: any) { }\n\n  public get isBrowser(): boolean {\n    return isPlatformBrowser(this.platformId);\n  }\n\n  public get isServer(): boolean {\n    return isPlatformServer(this.platformId);\n  }\n}","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nconst resolveLazyModule = function (name: string, moduleName: string): any {\n  return new Promise((resolve, reject) => {\n    return FuseBox.exists(`~/client/app/+${name}/${name}.module.js`)\n      ? resolve(require(`~/client/app/+${name}/${name}.module.js`)[`${moduleName}Module`])\n      : FuseBox.import(`/js/bundle-${name}.module.js`, (loaded: any) => loaded ?\n        resolve(require(`~/client/app/+${name}/${name}.module.js`)[`${moduleName}Module`]) :\n        reject('Unable to load module \\'AboutModule\\' from \\'/js/${name}.module.js\\'.'))\n  })\n};\n\nexport const routes: Routes = [\n  { path: '', loadChildren: () => resolveLazyModule('home', 'Home') },\n  { path: 'about', loadChildren: () => resolveLazyModule('about', 'About') },\n  { path: 'search', loadChildren: () => resolveLazyModule('search', 'Search') },\n  { path: 'login', loadChildren: () => resolveLazyModule('login', 'Login') },\n  { path: 'logout', loadChildren: () => resolveLazyModule('logout', 'Logout') },\n  { path: 'signup', loadChildren: () => resolveLazyModule('signup', 'Signup') },\n  { path: '**', loadChildren: () => resolveLazyModule('not-found', 'NotFound') },\n];\n\n\n@NgModule({\n  imports: [\n    RouterModule.forRoot(routes)\n  ],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n\n","import { NgModule } from '@angular/core';\nimport { TransferHttp } from './transfer-http';\nimport { HttpModule } from '@angular/http';\n\n@NgModule({\n  imports: [HttpModule],\n  providers: [\n    TransferHttp\n  ]\n})\nexport class TransferHttpModule {}\n","import { Injectable } from '@angular/core';\nimport { Http, Request, RequestOptionsArgs, Response } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\nimport { TransferState } from '../transfer-state/transfer-state';\n\n@Injectable()\nexport class TransferHttp {\n  constructor(private http: Http, protected transferState: TransferState) { }\n\n  request(uri: string | Request, options?: RequestOptionsArgs): Observable<any> {\n    return this.getData(uri, options, (url: string, options: RequestOptionsArgs) => {\n      return this.http.request(url, options);\n    });\n  }\n  /**\n   * Performs a request with `get` http method.\n   */\n  get(url: string, options?: RequestOptionsArgs): Observable<any> {\n    return this.getData(url, options, (url: string, options: RequestOptionsArgs) => {\n      return this.http.get(url, options);\n    });\n  }\n  /**\n   * Performs a request with `post` http method.\n   */\n  post(url: string, body: any, options?: RequestOptionsArgs): Observable<any> {\n    return this.getPostData(url, body, options, (url: string, options: RequestOptionsArgs) => {\n      return this.http.post(url, body. options);\n    });\n  }\n  /**\n   * Performs a request with `put` http method.\n   */\n  put(url: string, body: any, options?: RequestOptionsArgs): Observable<any> {\n    return this.getData(url, options, (url: string, options: RequestOptionsArgs) => {\n      return this.http.put(url, options);\n    });\n  }\n  /**\n   * Performs a request with `delete` http method.\n   */\n  delete(url: string, options?: RequestOptionsArgs): Observable<any> {\n    return this.getData(url, options, (url: string, options: RequestOptionsArgs) => {\n      return this.http.delete(url, options);\n    });\n  }\n  /**\n   * Performs a request with `patch` http method.\n   */\n  patch(url: string, body: any, options?: RequestOptionsArgs): Observable<any> {\n    return this.getPostData(url, body, options, (url: string, options: RequestOptionsArgs) => {\n      return this.http.patch(url, body.options);\n    });\n  }\n  /**\n   * Performs a request with `head` http method.\n   */\n  head(url: string, options?: RequestOptionsArgs): Observable<any> {\n    return this.getData(url, options, (url: string, options: RequestOptionsArgs) => {\n      return this.http.head(url, options);\n    });\n  }\n  /**\n   * Performs a request with `options` http method.\n   */\n  options(url: string, options?: RequestOptionsArgs): Observable<any> {\n    return this.getData(url, options, (url: string, options: RequestOptionsArgs) => {\n      return this.http.options(url, options);\n    });\n  }\n\n  private getData(uri: string | Request, options: RequestOptionsArgs,\n    callback: (uri: string | Request, options?: RequestOptionsArgs) => Observable<Response>) {\n\n    let url = uri;\n\n    if (typeof uri !== 'string') {\n      url = uri.url;\n    }\n\n\n    const opts = JSON.stringify(options);\n\n    const key = opts\n      ? `${url as string}${opts}`\n      : url as string;\n\n    try {\n      return this.resolveData(key);\n\n    } catch (e) {\n      return callback(uri, options)\n        .map(res => res.json())\n        .do(data => {\n          this.setCache(key, data);\n        });\n    }\n  }\n\n  private getPostData(uri: string | Request, body: any, options: RequestOptionsArgs,\n    callback: (uri: string | Request, body: any, options?: RequestOptionsArgs) => Observable<Response>) {\n\n    let url = uri;\n\n    if (typeof uri !== 'string') {\n      url = uri.url;\n    }\n\n    const opts = JSON.stringify(options);\n\n    const key = opts\n      ? `${url}${JSON.stringify(body)}${opts}`\n      : `${url}${JSON.stringify(body)}`;\n\n    try {\n\n      return this.resolveData(key);\n\n    } catch (e) {\n      return callback(uri, body, options)\n        .map(res => res.json())\n        .do(data => {\n          this.setCache(key, data);\n        });\n    }\n  }\n\n  private resolveData(key: string) {\n    const data = this.getFromCache(key);\n\n    if (!data) throw new Error();\n\n    return Observable.of(data);\n  }\n\n  private setCache(key: string, data: any) {\n    return this.transferState.set(key, data);\n  }\n\n  private getFromCache(key: string): any {\n    return this.transferState.get(key);\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class TransferState {\n  private _map = new Map<string, any>();\n\n  keys() {\n    return this._map.keys();\n  }\n\n  get(key: string): any {\n    return this._map.get(key);\n  }\n\n  set(key: string, value: any): Map<string, any> {\n    return this._map.set(key, value);\n  }\n\n  toJson(): any {\n    const obj: any = {};\n    Array.from(this.keys())\n      .forEach(key => {\n        obj[key] = this.get(key);\n      });\n    return obj;\n  }\n\n  initialize(obj: any): void {\n    Object.keys(obj)\n      .forEach(key => {\n        this.set(key, obj[key]);\n      });\n  }\n\n  inject(): void { }\n}\n","import { NgModule } from '@angular/core';\nimport { ServerTransferState } from './server-transfer-state';\nimport { TransferState } from './transfer-state';\n\n@NgModule({\n  providers: [\n    { provide: TransferState, useClass: ServerTransferState }\n  ]\n})\nexport class ServerTransferStateModule {\n\n}\n","import { Injectable, RendererFactory2, ViewEncapsulation } from '@angular/core';\nimport { TransferState } from './transfer-state';\nimport { PlatformState } from '@angular/platform-server';\n@Injectable()\nexport class ServerTransferState extends TransferState {\n  constructor(private state: PlatformState, private rendererFactory: RendererFactory2) {\n    super();\n  }\n\n  inject() {\n    try {\n      const document: any = this.state.getDocument();\n      const transferStateString = JSON.stringify(this.toJson());\n      const renderer = this.rendererFactory.createRenderer(document, {\n        id: '-1',\n        encapsulation: ViewEncapsulation.None,\n        styles: [],\n        data: {}\n      });\n\n      const head = document.head;\n      if (head.name !== 'head') {\n        throw new Error('Please have <head> as the first element in your document');\n      }\n\n      const script = renderer.createElement('script');\n      renderer.setValue(script, `window['PM_UNIVERSAL'] = ${transferStateString}`);\n      renderer.appendChild(head, script);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n}\n","import 'rxjs/add/observable/of';\nimport 'rxjs/add/observable/throw';\nimport 'rxjs/add/observable/fromPromise';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/switchMap';\nimport 'rxjs/add/operator/do';\nimport 'rxjs/add/operator/share';\nimport 'rxjs/add/operator/toPromise';","import * as express from 'express';\n\nexport const forceSsl = function (req: express.Request, res: express.Response, next: express.NextFunction) {\n  if (req.headers['x-forwarded-proto'] !== 'https') {\n    res.header('Cache-Control', 'no-cache, no-store, must-revalidate');\n    res.header('Pragma', 'no-cache');\n    res.header('Expires', '0');\n    return res.redirect(['https://', req.get('Host'), req.url].join(''));\n  }\n  return next();\n};\n","import { writeFile } from 'fs';\nconst SitemapGenerator = require('sitemap-generator');\n\nexport const sitemap = (host: string) => new Promise<string>((resolve, reject) => {\n  const generator = new SitemapGenerator(host);\n\n  // Avoid infinite loop during initial creation\n  generator.crawler.addFetchCondition((parsedUrl: any) => {\n    return !parsedUrl.url.includes('sitemap.xml');\n  });\n\n  // TODO: this isn't working!\n  // generator.crawler.on('fetchconditionerror', (queueItem: any) => {\n  //   add back into sitemap stack\n  // });\n\n  generator.on('done', (sitemaps: string[]) => {\n    if (sitemaps && sitemaps[0]) {\n      writeFile('dist/sitemap.xml', sitemaps[0], () => {\n        console.log(`Generated sitemap.xml`)\n        return resolve(sitemaps[0]);\n      });\n    } else {\n      return reject();\n    }\n  });\n\n  generator.on('clienterror', (err: any) => {\n    return reject(err);\n  });\n\n  generator.start();\n})\n\n\n"]}